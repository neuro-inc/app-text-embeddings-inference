{
  "$defs": {
    "ApoloAuth": {
      "properties": {
        "type": {
          "const": "apolo_auth",
          "default": "apolo_auth",
          "description": "Authentication type identifier",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "ApoloAuth",
      "type": "object",
      "x-description": "Use Apolo platform's built-in authentication and authorization. Requires authenticated user credentials with appropriate permissions.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Apolo Platform Authentication",
      "x-type": "ApoloAuth"
    },
    "ApoloFilesPath": {
      "properties": {
        "path": {
          "title": "Path",
          "type": "string",
          "x-description": "Provide the Apolo Storage path starting with `storage:` to locate your files.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Storage Path"
        }
      },
      "required": [
        "path"
      ],
      "title": "ApoloFilesPath",
      "type": "object",
      "x-description": "Specify the path within the Apolo Files application to read from or write to.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Apolo Files Path",
      "x-type": "ApoloFilesFile"
    },
    "ApoloSecret": {
      "properties": {
        "key": {
          "title": "Key",
          "type": "string"
        }
      },
      "required": [
        "key"
      ],
      "title": "ApoloSecret",
      "type": "object",
      "x-description": "Apolo Secret Configuration.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Secret",
      "x-type": "ApoloSecret"
    },
    "AuthIngressMiddleware": {
      "properties": {
        "name": {
          "pattern": "^platform",
          "title": "Name",
          "type": "string",
          "x-description": "Name of the authentication middleware (with namespace) to apply to ingress traffic.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Middleware Name"
        }
      },
      "required": [
        "name"
      ],
      "title": "AuthIngressMiddleware",
      "type": "object",
      "x-description": "Configure authentication middleware for ingress traffic.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "Authentication Ingress Middleware",
      "x-type": "AuthIngressMiddleware"
    },
    "CustomAuth": {
      "properties": {
        "type": {
          "const": "custom_auth",
          "default": "custom_auth",
          "description": "Authentication type identifier",
          "title": "Type",
          "type": "string"
        },
        "middleware": {
          "$ref": "#/$defs/AuthIngressMiddleware",
          "x-description": "Custom authentication middleware configuration.",
          "x-title": "Authentication Middleware"
        }
      },
      "required": [
        "middleware"
      ],
      "title": "CustomAuth",
      "type": "object",
      "x-description": "Use a custom authentication middleware for this ingress. Allows integration with custom authentication providers.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Custom Authentication",
      "x-type": "CustomAuth"
    },
    "Env": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string",
          "x-description": "Specify the name of the environment variable to inject into the container.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Variable Name"
        },
        "value": {
          "anyOf": [
            {
              "type": "string",
              "x-description": "Specify the value of the environment variable.",
              "x-is-advanced-field": false,
              "x-is-configurable": true,
              "x-meta-type": "inline",
              "x-title": "String variable Value"
            },
            {
              "$ref": "#/$defs/ApoloSecret"
            }
          ],
          "default": "",
          "title": "Value",
          "x-description": "Specify the value of the environment variable.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Variable Value"
        }
      },
      "required": [
        "name"
      ],
      "title": "Env",
      "type": "object",
      "x-description": "K8S container env var.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Env",
      "x-type": "Env"
    },
    "HuggingFaceCache": {
      "properties": {
        "files_path": {
          "$ref": "#/$defs/ApoloFilesPath",
          "default": {
            "path": "storage:.apps/hugging-face-cache",
            "__type__": "ApoloFilesPath"
          },
          "x-description": "The path to the Apolo Files directory where Hugging Face artifacts are cached.",
          "x-title": "Files Path"
        }
      },
      "title": "HuggingFaceCache",
      "type": "object",
      "x-description": "Configuration for the Hugging Face cache.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "Hugging Face Cache",
      "x-type": "HuggingFaceCache"
    },
    "HuggingFaceModel": {
      "properties": {
        "model_hf_name": {
          "title": "Model Hf Name",
          "type": "string",
          "x-description": "The name of the Hugging Face model.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Hugging Face Model Name"
        },
        "hf_token": {
          "anyOf": [
            {
              "$ref": "#/$defs/HuggingFaceToken"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "Provide a Hugging Face API token linked to an account with access to the model specified above. This token will be used to download model files from the Hugging Face Hub, including gated or private repositories where applicable.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "integration",
          "x-title": "Hugging Face Token"
        },
        "hf_cache": {
          "anyOf": [
            {
              "$ref": "#/$defs/HuggingFaceCache"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "Enables caching of model files to reduce redundant downloads and speed up load times.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Model Cache"
        }
      },
      "required": [
        "model_hf_name"
      ],
      "title": "HuggingFaceModel",
      "type": "object",
      "x-description": "Configure the Hugging Face model. Ensure it is available on the Hugging Face Hub and provide an API token with access rights if the repository is gated.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "Hugging Face Model",
      "x-type": "HuggingFaceModel"
    },
    "HuggingFaceToken": {
      "properties": {
        "token_name": {
          "minLength": 0,
          "title": "Token Name",
          "type": "string",
          "x-description": "The name of the Hugging Face token.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Token Name"
        },
        "token": {
          "$ref": "#/$defs/ApoloSecret",
          "x-description": "The Hugging Face API token used to access models.",
          "x-title": "Hugging Face Token"
        }
      },
      "required": [
        "token_name",
        "token"
      ],
      "title": "HuggingFaceToken",
      "type": "object",
      "x-description": "Provide a Hugging Face API token linked to an account with access to the model specified above. This token will be used to download model files from the Hugging Face Hub, including gated or private repositories where applicable.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "Hugging Face Token",
      "x-type": "HuggingFaceToken"
    },
    "IngressHttp": {
      "properties": {
        "auth": {
          "anyOf": [
            {
              "$ref": "#/$defs/ApoloAuth"
            },
            {
              "$ref": "#/$defs/NoAuth"
            },
            {
              "$ref": "#/$defs/CustomAuth"
            }
          ],
          "title": "Auth",
          "x-description": "Configure authentication for this ingress. Choose Apolo platform authentication, custom middleware, or no authentication.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Authentication"
        }
      },
      "title": "IngressHttp",
      "type": "object",
      "x-description": "Enable access to your application over the internet using HTTPS.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Enable HTTP Ingress",
      "x-type": "IngressHttp"
    },
    "NoAuth": {
      "properties": {
        "type": {
          "const": "no_auth",
          "default": "no_auth",
          "description": "Authentication type identifier",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "NoAuth",
      "type": "object",
      "x-description": "Disable authentication for this ingress. The application will be publicly accessible without any authentication.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "No Authentication",
      "x-type": "NoAuth"
    },
    "Preset": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string",
          "x-description": "The name of the preset.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Resource Preset"
        }
      },
      "required": [
        "name"
      ],
      "title": "Preset",
      "type": "object",
      "x-description": "Select the resource preset used per service replica.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Resource Preset",
      "x-type": "Preset"
    }
  },
  "properties": {
    "preset": {
      "$ref": "#/$defs/Preset"
    },
    "ingress_http": {
      "anyOf": [
        {
          "$ref": "#/$defs/IngressHttp"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Enable HTTP Ingress"
    },
    "model": {
      "$ref": "#/$defs/HuggingFaceModel",
      "x-meta-type": "inline"
    },
    "server_extra_args": {
      "items": {
        "type": "string"
      },
      "title": "Server Extra Args",
      "type": "array",
      "x-description": "Configure extra arguments to pass to the server (see TEI doc, e.g. --max-client-batch-size=1024).",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Server Extra Arguments"
    },
    "extra_env_vars": {
      "items": {
        "$ref": "#/$defs/Env"
      },
      "title": "Extra Env Vars",
      "type": "array",
      "x-description": "Additional environment variables to inject into the container. These will override any existing environment variables with the same name.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Extra Environment Variables"
    }
  },
  "required": [
    "preset",
    "model"
  ],
  "title": "TextEmbeddingsInferenceAppInputs",
  "type": "object"
}
